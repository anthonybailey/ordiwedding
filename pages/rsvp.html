<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>RSVP - Julie & Anthony</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <!--#include file="nav.html" -->
    </nav>

    <h1>RSVP</h1>

    <p>Please let us know if you can make it! We'd love to hear from you by April 2026
    so we can finalise numbers.</p>

    <form method="POST" action="/-/cgi/rsvp-submit.pl">

        <label for="name">Your name</label>
        <input type="text" id="name" name="name" required>

        <label for="contact">Email or phone</label>
        <input type="text" id="contact" name="contact" required>

        <label>Will you be attending?</label>
        <div class="radio-group">
            <label><input type="radio" name="attending" value="yes" required> Yes</label>
            <label><input type="radio" name="attending" value="no"> No</label>
            <label><input type="radio" name="attending" value="maybe"> Not sure yet</label>
        </div>

        <div id="attending-details" class="conditional">
            <label for="number">Number attending (including yourself)</label>
            <input type="number" id="number" name="number" min="1" max="20" value="1">

            <div id="guests-detail" class="conditional">
                <label for="guests">Names of additional guests</label>
                <input type="text" id="guests" name="guests">
            </div>

            <label for="dietary">Dietary requirements or allergies</label>
            <textarea id="dietary" name="dietary"></textarea>
        </div>

        <label for="message">Message for Julie &amp; Anthony</label>
        <textarea id="message" name="message"></textarea>

        <button type="submit">Send RSVP</button>

    </form>

    <footer>
        <p>Questions? Contact <a href="mailto:julie.dawson@gmail.com">Julie</a>
        or <a href="mailto:mail@anthonybailey.net">Anthony</a></p>
    </footer>

    <script>
    (function() {
        var radios = document.querySelectorAll('input[name="attending"]');
        var details = document.getElementById('attending-details');
        var numberInput = document.getElementById('number');
        var guestsDetail = document.getElementById('guests-detail');

        function updateVisibility() {
            var checked = document.querySelector('input[name="attending"]:checked');
            if (checked && checked.value !== 'no') {
                details.style.display = 'block';
            } else {
                details.style.display = 'none';
            }
            updateGuests();
        }

        function updateGuests() {
            if (parseInt(numberInput.value) > 1) {
                guestsDetail.style.display = 'block';
            } else {
                guestsDetail.style.display = 'none';
            }
        }

        for (var i = 0; i < radios.length; i++) {
            radios[i].addEventListener('change', updateVisibility);
        }
        numberInput.addEventListener('input', updateGuests);
    })();
    </script>

</body>
</html>
